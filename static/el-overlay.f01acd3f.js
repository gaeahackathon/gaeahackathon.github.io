import{y as R,aE as le,B as me,k as Z,bt as ve,l as pe,bh as G,aG as ye,T as J,c0 as be,bZ as ee,w as P,aF as Ce,c1 as ge,aD as Ee,ae as X,H as Q,A as F,i as $,ab as x,a4 as E,m as Te,O as he,b2 as we,M as oe,d as L,$ as _,a0 as V,a5 as W,a3 as h,b as n,af as Se,a7 as M,a6 as j,a8 as ke,a9 as Ae,a1 as q,ag as ae,ah as re,c2 as De,C as Me,ap as Le,r as w,ax as Be,Y as Ie,g as Oe,c3 as Ne,c4 as te,S as _e,J as Re,Z as $e,aa as Ye,bs as He,_ as ze,as as xe,at as Ue,aj as Ve}from"./entry.42bd67cb.js";import{t as We,F as Ke,U as ie,a as ne,c as se,E as Xe}from"./user.4f930ab3.js";const Ge=(e,o)=>{if(!R)return!1;const t={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(o)],s=le(e,t);return["scroll","auto","overlay"].some(l=>s.includes(l))},Co=(e,o)=>{if(!R)return;let t=e;for(;t;){if([window,document,document.documentElement].includes(t))return window;if(Ge(t,o))return t;t=t.parentNode}return t};let U;const Pe=e=>{var o;if(!R)return 0;if(U!==void 0)return U;const t=document.createElement("div");t.className=`${e}-scrollbar__wrap`,t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const s=t.offsetWidth;t.style.overflow="scroll";const l=document.createElement("div");l.style.width="100%",t.appendChild(l);const r=l.offsetWidth;return(o=t.parentNode)==null||o.removeChild(t),U=s-r,U};function go(e,o){if(!R)return;if(!o){e.scrollTop=0;return}const t=[];let s=o.offsetParent;for(;s!==null&&e!==s&&e.contains(s);)t.push(s),s=s.offsetParent;const l=o.offsetTop+t.reduce((u,m)=>u+m.offsetTop,0),r=l+o.offsetHeight,i=e.scrollTop,a=i+e.clientHeight;l<i?e.scrollTop=l:r>a&&(e.scrollTop=r-e.clientHeight)}const Fe=(...e)=>o=>{e.forEach(t=>{me(t)?t(o):t.value=o})};var K=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(K||{});const je=(e,o,t)=>{let s={offsetX:0,offsetY:0};const l=a=>{const u=a.clientX,m=a.clientY,{offsetX:f,offsetY:b}=s,v=e.value.getBoundingClientRect(),d=v.left,g=v.top,B=v.width,Y=v.height,H=document.documentElement.clientWidth,I=document.documentElement.clientHeight,z=-d+f,O=-g+b,S=H-d-B+f,k=I-g-Y+b,N=T=>{const c=Math.min(Math.max(f+T.clientX-u,z),S),C=Math.min(Math.max(b+T.clientY-m,O),k);s={offsetX:c,offsetY:C},e.value.style.transform=`translate(${G(c)}, ${G(C)})`},p=()=>{document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",p)};document.addEventListener("mousemove",N),document.addEventListener("mouseup",p)},r=()=>{o.value&&e.value&&o.value.addEventListener("mousedown",l)},i=()=>{o.value&&e.value&&o.value.removeEventListener("mousedown",l)};Z(()=>{ve(()=>{t.value?r():i()})}),pe(()=>{i()})},qe=(e,o={})=>{ye(e)||We("[useLockscreen]","You need to pass a ref param to this function");const t=o.ns||J("popup"),s=be(()=>t.bm("parent","hidden"));if(!R||ee(document.body,s.value))return;let l=0,r=!1,i="0";const a=()=>{setTimeout(()=>{Ee(document==null?void 0:document.body,s.value),r&&document&&(document.body.style.width=i)},200)};P(e,u=>{if(!u){a();return}r=!ee(document.body,s.value),r&&(i=document.body.style.width),l=Pe(t.namespace.value);const m=document.documentElement.clientHeight<document.body.scrollHeight,f=le(document.body,"overflowY");l>0&&(m||f==="scroll")&&r&&(document.body.style.width=`calc(100% - ${l}px)`),Ce(document.body,s.value)}),ge(()=>a())},ue=e=>{if(!e)return{onClick:X,onMousedown:X,onMouseup:X};let o=!1,t=!1;return{onClick:i=>{o&&t&&e(i),o=t=!1},onMousedown:i=>{o=i.target===i.currentTarget},onMouseup:i=>{t=i.target===i.currentTarget}}},Ze=Q({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:F([String,Array,Object])},zIndex:{type:F([String,Number])}}),Je={click:e=>e instanceof MouseEvent},Qe="overlay";var eo=$({name:"ElOverlay",props:Ze,emits:Je,setup(e,{slots:o,emit:t}){const s=J(Qe),l=u=>{t("click",u)},{onClick:r,onMousedown:i,onMouseup:a}=ue(e.customMaskEvent?void 0:l);return()=>e.mask?x("div",{class:[s.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:r,onMousedown:i,onMouseup:a},[E(o,"default")],K.STYLE|K.CLASS|K.PROPS,["onClick","onMouseup","onMousedown"]):Te("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[E(o,"default")])}});const oo=eo,ce=Symbol("dialogInjectionKey"),de=Q({center:Boolean,alignCenter:Boolean,closeIcon:{type:he},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),to={close:()=>!0},no=["aria-label"],so=["id"],lo=$({name:"ElDialogContent"}),ao=$({...lo,props:de,emits:to,setup(e){const o=e,{t}=we(),{Close:s}=De,{dialogRef:l,headerRef:r,bodyId:i,ns:a,style:u}=oe(ce),{focusTrapRef:m}=oe(Ke),f=L(()=>[a.b(),a.is("fullscreen",o.fullscreen),a.is("draggable",o.draggable),a.is("align-center",o.alignCenter),{[a.m("center")]:o.center},o.customClass]),b=Fe(m,l),v=L(()=>o.draggable);return je(l,r,v),(d,g)=>(_(),V("div",{ref:n(b),class:h(n(f)),style:ae(n(u)),tabindex:"-1"},[W("header",{ref_key:"headerRef",ref:r,class:h(n(a).e("header"))},[E(d.$slots,"header",{},()=>[W("span",{role:"heading",class:h(n(a).e("title"))},Se(d.title),3)]),d.showClose?(_(),V("button",{key:0,"aria-label":n(t)("el.dialog.close"),class:h(n(a).e("headerbtn")),type:"button",onClick:g[0]||(g[0]=B=>d.$emit("close"))},[x(n(Ae),{class:h(n(a).e("close"))},{default:M(()=>[(_(),j(ke(d.closeIcon||n(s))))]),_:1},8,["class"])],10,no)):q("v-if",!0)],2),W("div",{id:n(i),class:h(n(a).e("body"))},[E(d.$slots,"default")],10,so),d.$slots.footer?(_(),V("footer",{key:0,class:h(n(a).e("footer"))},[E(d.$slots,"footer")],2)):q("v-if",!0)],6))}});var ro=re(ao,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const io=Q({...de,appendToBody:Boolean,beforeClose:{type:F(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),uo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ie]:e=>Me(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},co=(e,o)=>{const s=Oe().emit,{nextZIndex:l}=Le();let r="";const i=ne(),a=ne(),u=w(!1),m=w(!1),f=w(!1),b=w(e.zIndex||l());let v,d;const g=Be("namespace",Ne),B=L(()=>{const y={},D=`--${g.value}-dialog`;return e.fullscreen||(e.top&&(y[`${D}-margin-top`]=e.top),e.width&&(y[`${D}-width`]=G(e.width))),y}),Y=L(()=>e.alignCenter?{display:"flex"}:{});function H(){s("opened")}function I(){s("closed"),s(ie,!1),e.destroyOnClose&&(f.value=!1)}function z(){s("close")}function O(){d==null||d(),v==null||v(),e.openDelay&&e.openDelay>0?{stop:v}=te(()=>p(),e.openDelay):p()}function S(){v==null||v(),d==null||d(),e.closeDelay&&e.closeDelay>0?{stop:d}=te(()=>T(),e.closeDelay):T()}function k(){function y(D){D||(m.value=!0,u.value=!1)}e.beforeClose?e.beforeClose(y):S()}function N(){e.closeOnClickModal&&k()}function p(){R&&(u.value=!0)}function T(){u.value=!1}function c(){s("openAutoFocus")}function C(){s("closeAutoFocus")}function A(y){var D;((D=y.detail)==null?void 0:D.focusReason)==="pointer"&&y.preventDefault()}e.lockScroll&&qe(u);function fe(){e.closeOnPressEscape&&k()}return P(()=>e.modelValue,y=>{y?(m.value=!1,O(),f.value=!0,b.value=e.zIndex?b.value++:l(),Ie(()=>{s("open"),o.value&&(o.value.scrollTop=0)})):u.value&&S()}),P(()=>e.fullscreen,y=>{o.value&&(y?(r=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=r)}),Z(()=>{e.modelValue&&(u.value=!0,f.value=!0,O())}),{afterEnter:H,afterLeave:I,beforeLeave:z,handleClose:k,onModalClick:N,close:S,doClose:T,onOpenAutoFocus:c,onCloseAutoFocus:C,onCloseRequested:fe,onFocusoutPrevented:A,titleId:i,bodyId:a,closed:m,style:B,overlayDialogStyle:Y,rendered:f,visible:u,zIndex:b}},fo=["aria-label","aria-labelledby","aria-describedby"],mo=$({name:"ElDialog",inheritAttrs:!1}),vo=$({...mo,props:io,emits:uo,setup(e,{expose:o}){const t=e,s=_e();se({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!s.title)),se({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},L(()=>!!t.customClass));const l=J("dialog"),r=w(),i=w(),a=w(),{visible:u,titleId:m,bodyId:f,style:b,overlayDialogStyle:v,rendered:d,zIndex:g,afterEnter:B,afterLeave:Y,beforeLeave:H,handleClose:I,onModalClick:z,onOpenAutoFocus:O,onCloseAutoFocus:S,onCloseRequested:k,onFocusoutPrevented:N}=co(t,r);Re(ce,{dialogRef:r,headerRef:i,bodyId:f,ns:l,rendered:d,style:b});const p=ue(z),T=L(()=>t.draggable&&!t.fullscreen);return o({visible:u,dialogContentRef:a}),(c,C)=>(_(),j(Ue,{to:"body",disabled:!c.appendToBody},[x(xe,{name:"dialog-fade",onAfterEnter:n(B),onAfterLeave:n(Y),onBeforeLeave:n(H),persisted:""},{default:M(()=>[$e(x(n(oo),{"custom-mask-event":"",mask:c.modal,"overlay-class":c.modalClass,"z-index":n(g)},{default:M(()=>[W("div",{role:"dialog","aria-modal":"true","aria-label":c.title||void 0,"aria-labelledby":c.title?void 0:n(m),"aria-describedby":n(f),class:h(`${n(l).namespace.value}-overlay-dialog`),style:ae(n(v)),onClick:C[0]||(C[0]=(...A)=>n(p).onClick&&n(p).onClick(...A)),onMousedown:C[1]||(C[1]=(...A)=>n(p).onMousedown&&n(p).onMousedown(...A)),onMouseup:C[2]||(C[2]=(...A)=>n(p).onMouseup&&n(p).onMouseup(...A))},[x(n(Xe),{loop:"",trapped:n(u),"focus-start-el":"container",onFocusAfterTrapped:n(O),onFocusAfterReleased:n(S),onFocusoutPrevented:n(N),onReleaseRequested:n(k)},{default:M(()=>[n(d)?(_(),j(ro,Ye({key:0,ref_key:"dialogContentRef",ref:a},c.$attrs,{"custom-class":c.customClass,center:c.center,"align-center":c.alignCenter,"close-icon":c.closeIcon,draggable:n(T),fullscreen:c.fullscreen,"show-close":c.showClose,title:c.title,onClose:n(I)}),He({header:M(()=>[c.$slots.title?E(c.$slots,"title",{key:1}):E(c.$slots,"header",{key:0,close:n(I),titleId:n(m),titleClass:n(l).e("title")})]),default:M(()=>[E(c.$slots,"default")]),_:2},[c.$slots.footer?{name:"footer",fn:M(()=>[E(c.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):q("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,fo)]),_:3},8,["mask","overlay-class","z-index"]),[[ze,n(u)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var po=re(vo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Eo=Ve(po),To=$({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:o,attrs:t}){const s=w(!1);return Z(()=>{s.value=!0}),l=>{var u;if(s.value)return(u=o.default)==null?void 0:u.call(o);const r=o.fallback||o.placeholder;if(r)return r();const i=l.fallback||l.placeholder||"",a=l.fallbackTag||l.placeholderTag||"span";return V(a,t,i)}}});export{Eo as E,To as _,Co as g,go as s};
