import{Q as de,k as j,bJ as fe,l as me,aB as V,b9 as ve,a7 as q,c0 as pe,y as ne,b_ as J,w as G,b7 as ye,b8 as be,c1 as Ce,b6 as ge,au as K,X as Z,P,i as R,ar as H,ak as E,m as Ee,a2 as Te,aW as ke,a0 as Q,d as L,af as _,ag as U,al as X,aj as k,b as o,av as Se,an as M,am as W,ao as he,ap as we,ah as F,aw as se,ax as le,c2 as Ae,R as De,aI as Me,r as S,aP as Le,ac as Ie,g as Be,c3 as Oe,c4 as ee,a6 as Ne,Z as _e,ad as Re,aq as $e,b3 as Ye,ae as ze,aA as He,aL as Ue,az as Xe}from"./entry.2b15cc89.js";import{t as xe,h as Ke,F as Ve,U as ae,a as oe,c as te,E as Ge}from"./user.31812492.js";const Pe=(...e)=>t=>{e.forEach(l=>{de(l)?l(t):l.value=t})};var x=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(x||{});const We=(e,t,l)=>{let s={offsetX:0,offsetY:0};const a=n=>{const i=n.clientX,v=n.clientY,{offsetX:f,offsetY:b}=s,m=e.value.getBoundingClientRect(),d=m.left,g=m.top,I=m.width,$=m.height,Y=document.documentElement.clientWidth,B=document.documentElement.clientHeight,z=-d+f,O=-g+b,h=Y-d-I+f,w=B-g-$+b,N=T=>{const r=Math.min(Math.max(f+T.clientX-i,z),h),C=Math.min(Math.max(b+T.clientY-v,O),w);s={offsetX:r,offsetY:C},e.value.style.transform=`translate(${V(r)}, ${V(C)})`},p=()=>{document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",p)};document.addEventListener("mousemove",N),document.addEventListener("mouseup",p)},c=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",a)},u=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",a)};j(()=>{fe(()=>{l.value?c():u()})}),me(()=>{u()})},Fe=(e,t={})=>{ve(e)||xe("[useLockscreen]","You need to pass a ref param to this function");const l=t.ns||q("popup"),s=pe(()=>l.bm("parent","hidden"));if(!ne||J(document.body,s.value))return;let a=0,c=!1,u="0";const n=()=>{setTimeout(()=>{ge(document==null?void 0:document.body,s.value),c&&document&&(document.body.style.width=u)},200)};G(e,i=>{if(!i){n();return}c=!J(document.body,s.value),c&&(u=document.body.style.width),a=Ke(l.namespace.value);const v=document.documentElement.clientHeight<document.body.scrollHeight,f=ye(document.body,"overflowY");a>0&&(v||f==="scroll")&&c&&(document.body.style.width=`calc(100% - ${a}px)`),be(document.body,s.value)}),Ce(()=>n())},re=e=>{if(!e)return{onClick:K,onMousedown:K,onMouseup:K};let t=!1,l=!1;return{onClick:u=>{t&&l&&e(u),t=l=!1},onMousedown:u=>{t=u.target===u.currentTarget},onMouseup:u=>{l=u.target===u.currentTarget}}},je=Z({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:P([String,Array,Object])},zIndex:{type:P([String,Number])}}),qe={click:e=>e instanceof MouseEvent},Ze="overlay";var Je=R({name:"ElOverlay",props:je,emits:qe,setup(e,{slots:t,emit:l}){const s=q(Ze),a=i=>{l("click",i)},{onClick:c,onMousedown:u,onMouseup:n}=re(e.customMaskEvent?void 0:a);return()=>e.mask?H("div",{class:[s.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:c,onMousedown:u,onMouseup:n},[E(t,"default")],x.STYLE|x.CLASS|x.PROPS,["onClick","onMouseup","onMousedown"]):Ee("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[E(t,"default")])}});const Qe=Je,ue=Symbol("dialogInjectionKey"),ie=Z({center:Boolean,alignCenter:Boolean,closeIcon:{type:Te},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),eo={close:()=>!0},oo=["aria-label"],to=["id"],no=R({name:"ElDialogContent"}),so=R({...no,props:ie,emits:eo,setup(e){const t=e,{t:l}=ke(),{Close:s}=Ae,{dialogRef:a,headerRef:c,bodyId:u,ns:n,style:i}=Q(ue),{focusTrapRef:v}=Q(Ve),f=L(()=>[n.b(),n.is("fullscreen",t.fullscreen),n.is("draggable",t.draggable),n.is("align-center",t.alignCenter),{[n.m("center")]:t.center},t.customClass]),b=Pe(v,a),m=L(()=>t.draggable);return We(a,c,m),(d,g)=>(_(),U("div",{ref:o(b),class:k(o(f)),style:se(o(i)),tabindex:"-1"},[X("header",{ref_key:"headerRef",ref:c,class:k(o(n).e("header"))},[E(d.$slots,"header",{},()=>[X("span",{role:"heading",class:k(o(n).e("title"))},Se(d.title),3)]),d.showClose?(_(),U("button",{key:0,"aria-label":o(l)("el.dialog.close"),class:k(o(n).e("headerbtn")),type:"button",onClick:g[0]||(g[0]=I=>d.$emit("close"))},[H(o(we),{class:k(o(n).e("close"))},{default:M(()=>[(_(),W(he(d.closeIcon||o(s))))]),_:1},8,["class"])],10,oo)):F("v-if",!0)],2),X("div",{id:o(u),class:k(o(n).e("body"))},[E(d.$slots,"default")],10,to),d.$slots.footer?(_(),U("footer",{key:0,class:k(o(n).e("footer"))},[E(d.$slots,"footer")],2)):F("v-if",!0)],6))}});var lo=le(so,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const ao=Z({...ie,appendToBody:Boolean,beforeClose:{type:P(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),ro={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ae]:e=>De(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},uo=(e,t)=>{const s=Be().emit,{nextZIndex:a}=Me();let c="";const u=oe(),n=oe(),i=S(!1),v=S(!1),f=S(!1),b=S(e.zIndex||a());let m,d;const g=Le("namespace",Oe),I=L(()=>{const y={},D=`--${g.value}-dialog`;return e.fullscreen||(e.top&&(y[`${D}-margin-top`]=e.top),e.width&&(y[`${D}-width`]=V(e.width))),y}),$=L(()=>e.alignCenter?{display:"flex"}:{});function Y(){s("opened")}function B(){s("closed"),s(ae,!1),e.destroyOnClose&&(f.value=!1)}function z(){s("close")}function O(){d==null||d(),m==null||m(),e.openDelay&&e.openDelay>0?{stop:m}=ee(()=>p(),e.openDelay):p()}function h(){m==null||m(),d==null||d(),e.closeDelay&&e.closeDelay>0?{stop:d}=ee(()=>T(),e.closeDelay):T()}function w(){function y(D){D||(v.value=!0,i.value=!1)}e.beforeClose?e.beforeClose(y):h()}function N(){e.closeOnClickModal&&w()}function p(){ne&&(i.value=!0)}function T(){i.value=!1}function r(){s("openAutoFocus")}function C(){s("closeAutoFocus")}function A(y){var D;((D=y.detail)==null?void 0:D.focusReason)==="pointer"&&y.preventDefault()}e.lockScroll&&Fe(i);function ce(){e.closeOnPressEscape&&w()}return G(()=>e.modelValue,y=>{y?(v.value=!1,O(),f.value=!0,b.value=e.zIndex?b.value++:a(),Ie(()=>{s("open"),t.value&&(t.value.scrollTop=0)})):i.value&&h()}),G(()=>e.fullscreen,y=>{t.value&&(y?(c=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=c)}),j(()=>{e.modelValue&&(i.value=!0,f.value=!0,O())}),{afterEnter:Y,afterLeave:B,beforeLeave:z,handleClose:w,onModalClick:N,close:h,doClose:T,onOpenAutoFocus:r,onCloseAutoFocus:C,onCloseRequested:ce,onFocusoutPrevented:A,titleId:u,bodyId:n,closed:v,style:I,overlayDialogStyle:$,rendered:f,visible:i,zIndex:b}},io=["aria-label","aria-labelledby","aria-describedby"],co=R({name:"ElDialog",inheritAttrs:!1}),fo=R({...co,props:ao,emits:ro,setup(e,{expose:t}){const l=e,s=Ne();te({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!s.title)),te({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},L(()=>!!l.customClass));const a=q("dialog"),c=S(),u=S(),n=S(),{visible:i,titleId:v,bodyId:f,style:b,overlayDialogStyle:m,rendered:d,zIndex:g,afterEnter:I,afterLeave:$,beforeLeave:Y,handleClose:B,onModalClick:z,onOpenAutoFocus:O,onCloseAutoFocus:h,onCloseRequested:w,onFocusoutPrevented:N}=uo(l,c);_e(ue,{dialogRef:c,headerRef:u,bodyId:f,ns:a,rendered:d,style:b});const p=re(z),T=L(()=>l.draggable&&!l.fullscreen);return t({visible:i,dialogContentRef:n}),(r,C)=>(_(),W(Ue,{to:"body",disabled:!r.appendToBody},[H(He,{name:"dialog-fade",onAfterEnter:o(I),onAfterLeave:o($),onBeforeLeave:o(Y),persisted:""},{default:M(()=>[Re(H(o(Qe),{"custom-mask-event":"",mask:r.modal,"overlay-class":r.modalClass,"z-index":o(g)},{default:M(()=>[X("div",{role:"dialog","aria-modal":"true","aria-label":r.title||void 0,"aria-labelledby":r.title?void 0:o(v),"aria-describedby":o(f),class:k(`${o(a).namespace.value}-overlay-dialog`),style:se(o(m)),onClick:C[0]||(C[0]=(...A)=>o(p).onClick&&o(p).onClick(...A)),onMousedown:C[1]||(C[1]=(...A)=>o(p).onMousedown&&o(p).onMousedown(...A)),onMouseup:C[2]||(C[2]=(...A)=>o(p).onMouseup&&o(p).onMouseup(...A))},[H(o(Ge),{loop:"",trapped:o(i),"focus-start-el":"container",onFocusAfterTrapped:o(O),onFocusAfterReleased:o(h),onFocusoutPrevented:o(N),onReleaseRequested:o(w)},{default:M(()=>[o(d)?(_(),W(lo,$e({key:0,ref_key:"dialogContentRef",ref:n},r.$attrs,{"custom-class":r.customClass,center:r.center,"align-center":r.alignCenter,"close-icon":r.closeIcon,draggable:o(T),fullscreen:r.fullscreen,"show-close":r.showClose,title:r.title,onClose:o(B)}),Ye({header:M(()=>[r.$slots.title?E(r.$slots,"title",{key:1}):E(r.$slots,"header",{key:0,close:o(B),titleId:o(v),titleClass:o(a).e("title")})]),default:M(()=>[E(r.$slots,"default")]),_:2},[r.$slots.footer?{name:"footer",fn:M(()=>[E(r.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):F("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,io)]),_:3},8,["mask","overlay-class","z-index"]),[[ze,o(i)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var mo=le(fo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const yo=Xe(mo),bo=R({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:t,attrs:l}){const s=S(!1);return j(()=>{s.value=!0}),a=>{var i;if(s.value)return(i=t.default)==null?void 0:i.call(t);const c=t.fallback||t.placeholder;if(c)return c();const u=a.fallback||a.placeholder||"",n=a.fallbackTag||a.placeholderTag||"span";return U(n,l,u)}}});export{yo as E,bo as _};
