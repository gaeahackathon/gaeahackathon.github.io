import{bF as ue,br as B,A as le,y as L,b7 as fe,d as T,U as de,g as ae,w as k,b as A,W as ve,a0 as pe,k as M,l as j,aJ as ce,r as g,ax as me,i as Ee,Z as Te,ak as ge,ac as X,a4 as be,bG as he,bH as ye}from"./entry.2b15cc89.js";var we=/\s/;function Ie(e){for(var t=e.length;t--&&we.test(e.charAt(t)););return t}var Fe=/^\s+/;function Se(e){return e&&e.slice(0,Ie(e)+1).replace(Fe,"")}var Y=0/0,Ce=/^[-+]0x[0-9a-f]+$/i,_e=/^0b[01]+$/i,Pe=/^0o[0-7]+$/i,Ae=parseInt;function q(e){if(typeof e=="number")return e;if(ue(e))return Y;if(B(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=B(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Se(e);var n=_e.test(e);return n||Pe.test(e)?Ae(e.slice(2),n?2:8):Ce.test(e)?Y:+e}var Le=function(){return le.Date.now()};const $=Le;var Re="Expected a function",Ne=Math.max,Oe=Math.min;function nt(e,t,n){var s,r,c,i,l,p,E=0,S=!1,b=!1,y=!0;if(typeof e!="function")throw new TypeError(Re);t=q(t)||0,B(n)&&(S=!!n.leading,b="maxWait"in n,c=b?Ne(q(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y);function w(a){var m=s,h=r;return s=r=void 0,E=a,i=e.apply(h,m),i}function o(a){return E=a,l=setTimeout(f,t),S?w(a):i}function u(a){var m=a-p,h=a-E,_=t-m;return b?Oe(_,c-h):_}function d(a){var m=a-p,h=a-E;return p===void 0||m>=t||m<0||b&&h>=c}function f(){var a=$();if(d(a))return v(a);l=setTimeout(f,u(a))}function v(a){return l=void 0,y&&s?w(a):(s=r=void 0,i)}function R(){l!==void 0&&clearTimeout(l),E=0,s=p=r=l=void 0}function N(){return l===void 0?i:v($())}function C(){var a=$(),m=d(a);if(s=arguments,r=this,p=a,m){if(l===void 0)return o(p);if(b)return clearTimeout(l),l=setTimeout(f,t),w(p)}return l===void 0&&(l=setTimeout(f,t)),i}return C.cancel=R,C.flush=N,C}function We(e){return e==null}class xe extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function st(e,t){throw new xe(`[${e}] ${t}`)}function ot(e,t){}const De=(e,t)=>{if(!L)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],s=fe(e,n);return["scroll","auto","overlay"].some(r=>s.includes(r))},rt=(e,t)=>{if(!L)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(De(n,t))return n;n=n.parentNode}return n};let O;const at=e=>{var t;if(!L)return 0;if(O!==void 0)return O;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const s=n.offsetWidth;n.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",n.appendChild(r);const c=r.offsetWidth;return(t=n.parentNode)==null||t.removeChild(n),O=s-c,O};function ct(e,t){if(!L)return;if(!t){e.scrollTop=0;return}const n=[];let s=t.offsetParent;for(;s!==null&&e!==s&&e.contains(s);)n.push(s),s=s.offsetParent;const r=t.offsetTop+n.reduce((p,E)=>p+E.offsetTop,0),c=r+t.offsetHeight,i=e.scrollTop,l=i+e.clientHeight;r<i?e.scrollTop=r:c>l&&(e.scrollTop=c-e.clientHeight)}const it="update:modelValue",ut="change",ke=["class","style"],Ue=/^on[A-Z]/,lt=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,s=T(()=>((n==null?void 0:n.value)||[]).concat(ke)),r=ae();return r?T(()=>{var c;return de(Object.entries((c=r.proxy)==null?void 0:c.$attrs).filter(([i])=>!s.value.includes(i)&&!(t&&Ue.test(i))))}):T(()=>({}))},ft=({from:e,replacement:t,scope:n,version:s,ref:r,type:c="API"},i)=>{k(()=>A(i),l=>{},{immediate:!0})},Z={prefix:Math.floor(Math.random()*1e4),current:0},Ke=Symbol("elIdInjection"),$e=()=>ae()?pe(Ke,Z):Z,dt=e=>{const t=$e(),n=ve();return T(()=>A(e)||`${n.value}-id-${t.prefix}-${t.current++}`)};let P=[];const z=e=>{const t=e;t.key===ce.esc&&P.forEach(n=>n(t))},Ve=e=>{M(()=>{P.length===0&&document.addEventListener("keydown",z),L&&P.push(e)}),j(()=>{P=P.filter(t=>t!==e),P.length===0&&L&&document.removeEventListener("keydown",z)})},V="focus-trap.focus-after-trapped",H="focus-trap.focus-after-released",He="focus-trap.focusout-prevented",Q={cancelable:!0,bubbles:!1},Be={cancelable:!0,bubbles:!1},ee="focusAfterTrapped",te="focusAfterReleased",Me=Symbol("elFocusTrap"),G=g(),U=g(0),J=g(0);let W=0;const ie=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0||s===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},ne=(e,t)=>{for(const n of e)if(!je(n,t))return n},je=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},Ge=e=>{const t=ie(e),n=ne(t,e),s=ne(t.reverse(),e);return[n,s]},Je=e=>e instanceof HTMLInputElement&&"select"in e,F=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),J.value=window.performance.now(),e!==n&&Je(e)&&t&&e.select()}};function se(e,t){const n=[...e],s=e.indexOf(t);return s!==-1&&n.splice(s,1),n}const Xe=()=>{let e=[];return{push:s=>{const r=e[0];r&&s!==r&&r.pause(),e=se(e,s),e.unshift(s)},remove:s=>{var r,c;e=se(e,s),(c=(r=e[0])==null?void 0:r.resume)==null||c.call(r)}}},Ye=(e,t=!1)=>{const n=document.activeElement;for(const s of e)if(F(s,t),document.activeElement!==n)return},oe=Xe(),qe=()=>U.value>J.value,x=()=>{G.value="pointer",U.value=window.performance.now()},re=()=>{G.value="keyboard",U.value=window.performance.now()},Ze=()=>(M(()=>{W===0&&(document.addEventListener("mousedown",x),document.addEventListener("touchstart",x),document.addEventListener("keydown",re)),W++}),j(()=>{W--,W<=0&&(document.removeEventListener("mousedown",x),document.removeEventListener("touchstart",x),document.removeEventListener("keydown",re))}),{focusReason:G,lastUserFocusTimestamp:U,lastAutomatedFocusTimestamp:J}),D=e=>new CustomEvent(He,{...Be,detail:e}),ze=Ee({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ee,te,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=g();let s,r;const{focusReason:c}=Ze();Ve(o=>{e.trapped&&!i.paused&&t("release-requested",o)});const i={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},l=o=>{if(!e.loop&&!e.trapped||i.paused)return;const{key:u,altKey:d,ctrlKey:f,metaKey:v,currentTarget:R,shiftKey:N}=o,{loop:C}=e,a=u===ce.tab&&!d&&!f&&!v,m=document.activeElement;if(a&&m){const h=R,[_,K]=Ge(h);if(_&&K){if(!N&&m===K){const I=D({focusReason:c.value});t("focusout-prevented",I),I.defaultPrevented||(o.preventDefault(),C&&F(_,!0))}else if(N&&[_,h].includes(m)){const I=D({focusReason:c.value});t("focusout-prevented",I),I.defaultPrevented||(o.preventDefault(),C&&F(K,!0))}}else if(m===h){const I=D({focusReason:c.value});t("focusout-prevented",I),I.defaultPrevented||o.preventDefault()}}};Te(Me,{focusTrapRef:n,onKeydown:l}),k(()=>e.focusTrapEl,o=>{o&&(n.value=o)},{immediate:!0}),k([n],([o],[u])=>{o&&(o.addEventListener("keydown",l),o.addEventListener("focusin",S),o.addEventListener("focusout",b)),u&&(u.removeEventListener("keydown",l),u.removeEventListener("focusin",S),u.removeEventListener("focusout",b))});const p=o=>{t(ee,o)},E=o=>t(te,o),S=o=>{const u=A(n);if(!u)return;const d=o.target,f=o.relatedTarget,v=d&&u.contains(d);e.trapped||f&&u.contains(f)||(s=f),v&&t("focusin",o),!i.paused&&e.trapped&&(v?r=d:F(r,!0))},b=o=>{const u=A(n);if(!(i.paused||!u))if(e.trapped){const d=o.relatedTarget;!We(d)&&!u.contains(d)&&setTimeout(()=>{if(!i.paused&&e.trapped){const f=D({focusReason:c.value});t("focusout-prevented",f),f.defaultPrevented||F(r,!0)}},0)}else{const d=o.target;d&&u.contains(d)||t("focusout",o)}};async function y(){await X();const o=A(n);if(o){oe.push(i);const u=o.contains(document.activeElement)?s:document.activeElement;if(s=u,!o.contains(u)){const f=new Event(V,Q);o.addEventListener(V,p),o.dispatchEvent(f),f.defaultPrevented||X(()=>{let v=e.focusStartEl;be(v)||(F(v),document.activeElement!==v&&(v="first")),v==="first"&&Ye(ie(o),!0),(document.activeElement===u||v==="container")&&F(o)})}}}function w(){const o=A(n);if(o){o.removeEventListener(V,p);const u=new CustomEvent(H,{...Q,detail:{focusReason:c.value}});o.addEventListener(H,E),o.dispatchEvent(u),!u.defaultPrevented&&(c.value=="keyboard"||!qe()||o.contains(document.activeElement))&&F(s??document.body),o.removeEventListener(H,E),oe.remove(i)}}return M(()=>{e.trapped&&y(),k(()=>e.trapped,o=>{o?y():w()})}),j(()=>{e.trapped&&w()}),{onKeydown:l}}});function Qe(e,t,n,s,r,c){return ge(e.$slots,"default",{handleKeydown:e.onKeydown})}var vt=me(ze,[["render",Qe],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const pt=he("user",()=>{const e=g(),t=g(null),n=g(null),s=g(null),r=g({show:!1,url:""}),c=g(""),i=g(!1),l=T(()=>e.value),p=T(()=>t.value),E=T(()=>n.value),S=T(()=>s.value),b=T(()=>r.value),y=T(()=>c.value),w=T(()=>i.value);return{dialogError:r,accountsWalletAddress:e,accountWalletItem:s,web3ConfigItem:t,web3ConfigData:n,rdnsType:c,getAccountsWalletAddress:l,getWeb3ConfigItem:p,getWeb3ConfigData:E,getAccountWalletItem:S,getDialogError:b,getRdns:y,getWalletSelectionDialogVisible:w,setWalletSelectionDialogVisible:a=>{i.value=a},setRdnsType:a=>{c.value=a},setAccountsWalletAddress:a=>{e.value=a.toLowerCase()},setweb3ConfigItem:a=>{t.value=a},setWeb3ConfigData:a=>{n.value=a},setAccountWalletItem:a=>{s.value=a},setDialogError:a=>{r.value=a},cleaUserInfo:()=>{t.value=null,s.value=null,e.value="",i.value=!1,c.value="",r.value={show:!1,url:""}}}},{persist:[{paths:["accountWalletItem","accountsWalletAddress","web3ConfigItem","rdnsType","web3ConfigData"],storage:ye.cookiesWithOptions({maxAge:604800})}]});export{ut as C,vt as E,Me as F,it as U,dt as a,lt as b,ft as c,ot as d,nt as e,pt as f,rt as g,at as h,We as i,ct as s,st as t,$e as u};
